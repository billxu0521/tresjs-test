<script setup>
import { shallowRef } from 'vue'
import { useLoop } from '@tresjs/core'

const boxRef = shallowRef()

const { onBeforeRender } = useLoop()

onBeforeRender(({ delta, elapsed  }) => {
  if (boxRef.value) {
    boxRef.value.rotation.y += delta
    boxRef.value.rotation.z = elapsed * 0.2
  }
})
</script>

<template>
  <TresMesh 
  ref="boxRef">
    <TresBoxGeometry />
    <TresMeshBasicMaterial color="teal" />
  </TresMesh>
</template>